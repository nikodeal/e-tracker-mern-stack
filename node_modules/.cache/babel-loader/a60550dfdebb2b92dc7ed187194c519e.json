{"ast":null,"code":"var _jsxFileName = \"/home/niko/Desktop/Mern/mern-stack/src/components/routes/ExercisesList.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"../../../client/node_modules/axios\";\nimport Exer from \"../Exer\";\nimport { AppContext } from \"../../AppContext\";\n\nconst ExercisesList = () => {\n  const {\n    context,\n    setContext\n  } = useContext(AppContext);\n  const [state, setState] = useState({\n    exercises: []\n  });\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/exercises/\").then(res => {\n      console.log(res.data);\n\n      if (context.isLogged) {\n        setState({\n          exercises: res.data.filter(exe => {\n            return exe.username.toLowerCase().includes(context.userLogged.toLowerCase());\n          })\n        });\n      } else {\n        setState({\n          exercises: res.data\n        });\n      }\n\n      console.log(\"exercise list mounted\");\n    }).catch(err => {\n      console.log(err);\n    });\n    return () => {\n      console.log(\" exercise component unmounted\");\n    };\n  }, []);\n\n  const deleteExercise = id => {\n    axios.delete(\"http://localhost:5000/exercises/\" + id).then(res => console.log(res.data));\n    setState({\n      exercises: state.exercises.filter(el => el._id !== id)\n    });\n  };\n\n  const exerciseList = () => {\n    return state.exercises.map((current, i) => {\n      return /*#__PURE__*/React.createElement(Exer, {\n        exercise: current,\n        deleteEx: deleteExercise,\n        id: current._id,\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, context.isLogged === true ? /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, \"Your Exercises \") : /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 94\n    }\n  }, \"Shared Exercises \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflow: 'scroll',\n      height: '60vh',\n      overflowX: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    style: {\n      width: '50%',\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Duration\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Date\"), context.isLogged === true ? /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 41\n    }\n  }, \"Actions\") : /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 60\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, exerciseList()))));\n};\n\nexport default ExercisesList;","map":{"version":3,"sources":["/home/niko/Desktop/Mern/mern-stack/src/components/routes/ExercisesList.js"],"names":["React","useState","useEffect","useContext","axios","Exer","AppContext","ExercisesList","context","setContext","state","setState","exercises","get","then","res","console","log","data","isLogged","filter","exe","username","toLowerCase","includes","userLogged","catch","err","deleteExercise","id","delete","el","_id","exerciseList","map","current","i","textAlign","overflow","height","overflowX","width","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"../../../client/node_modules/axios\";\nimport Exer from \"../Exer\";\nimport { AppContext } from \"../../AppContext\";\n\nconst ExercisesList = () => {\n  const { context, setContext } = useContext(AppContext);\n  const [state, setState] = useState({\n    exercises: [],\n  });\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/exercises/\")\n      .then((res) => {\n        console.log(res.data);\n        if (context.isLogged) {\n          setState({\n            exercises: res.data.filter((exe) => {\n              return exe.username\n                .toLowerCase()\n                .includes(context.userLogged.toLowerCase());\n            }),\n          });\n        } else {\n          setState({\n            exercises: res.data,\n          });\n        }\n\n        console.log(\"exercise list mounted\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    return () => {\n      console.log(\" exercise component unmounted\");\n    };\n  }, []);\n\n  const deleteExercise = (id) => {\n    axios\n      .delete(\"http://localhost:5000/exercises/\" + id)\n      .then((res) => console.log(res.data));\n    setState({\n      exercises: state.exercises.filter((el) => el._id !== id),\n    });\n  };\n  const exerciseList = () => {\n    return state.exercises.map((current, i) => {\n      return (\n        <Exer\n          exercise={current}\n          deleteEx={deleteExercise}\n          id={current._id}\n          key={i}\n        />\n      );\n    });\n  };\n  return (\n    <div>\n      {context.isLogged === true ?  <h3 style={{textAlign: 'center'}}>Your Exercises </h3> : <h3 style={{textAlign: 'center'}}>Shared Exercises </h3>\n      }\n     \n      <br></br>\n      <div style={{ overflow: 'scroll',height: '60vh', overflowX: 'auto'}}>\n      <table className=\"table\" style={{width: '50%', margin: 'auto'}}>\n        <thead className=\"text-success\">\n          <tr>\n            <th>Username</th>\n            <th>Description</th>\n            <th>Duration</th>\n            <th>Date</th>\n           {context.isLogged === true ? <th>Actions</th> : <th></th> }\n          </tr>\n        </thead>\n        <tbody  >{exerciseList()}</tbody>\n      </table>\n      </div>\n    </div>\n  );\n};\n\nexport default ExercisesList;\n"]},"metadata":{},"sourceType":"module"}